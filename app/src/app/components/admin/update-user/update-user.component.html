<div class="container-flex">
    <table class="table table-striped" *ngIf="!selected">
        <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Firstname</th>
              <th scope="col">Lastname</th>
              <th scope="col">Username</th>
              <th scope="col">Password</th>
              <th scope="col">City</th>
              <th scope="col">Telephone</th>
              <th scope="col">Email</th>
              <th scope="col">Birthday</th>
              <th scope="col">Type</th>
              <th scope="col">Advertiser type</th>
              <th scope="col">Agency</th>
              <th scope="col">Licence</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let user of users; index as i">
              <th scope="row">{{ i + 1 }}</th>
              <td>{{user.username}}</td>
              <td>{{user.lastname}}</td>
              <td>{{user.username}}</td>
              <td>{{user.password}}</td>
              <td>{{user.city}}</td>
              <td>{{user.telephone}}</td>
              <td>{{user.email}}</td>
              <td>{{user.birthday | date}}</td>
              <td>{{user.type}}</td>
              <td>{{user.type=="buyer" ? "X":user.advertiserType}}</td>
              <td>{{user.type=="buyer" ? "X" : (user.advertiserType=="agent"?user.agency:"X")}}</td>
              <td>{{user.type=="buyer" ? "X" : (user.advertiserType=="agent"?user.licence:"X")}}</td>
              <td><button class="btn btn-warning" (click)="selectUser(user)">UPDATE</button></td>
            </tr>
        </tbody>
    </table>
    
    <div *ngIf="selected">
        <div class="d-flex flex-column justify-content-center text-center">
            <h2 class="">Update user</h2> <br/>
            <p class="fs-3">Change information to update user!</p>
                                
            <form ngNativeValidate #form class="text-center">

                <div class="row">
                    <div class="col-3 offset-3"> 
                        <label class="fs-4">Telephone:</label>
                    </div>

                    <div class="col-3"> 
                        <input type="tel" id="telephone" name="telephone" class="form-control form-control-lg" placeholder="Telephone" [(ngModel)]="selected.telephone" required>
                    </div>
                </div>
        
                <div class="row mt-2">
                    <div class="col-3 offset-3">
                        <label class="fs-4">Date of Birth:</label>
                    </div>
        
                    <div class="col-3">
                        <input type="date" id="birthday" name="birthday" class="form-control form-control-lg" [(ngModel)]="birthday" required>
                    </div>
        
                </div>
        
                <div class="row mt-2">
                    <button class="col-2 offset-4 btn btn-lg btn-primary" (click)="back()" >Back</button>
                    <button type="submit" class="col-2 offset-1 btn btn-lg btn-primary" 
                    (click)="form.checkValidity() ? updateUser() : success_message=error_message='';"
                    >UPDATE</button>
                </div>

                <span class="fs-3 text-success">{{success_message}}</span>
                <span class="fs-3 text-danger">{{error_message}}</span>
            </form>
            <hr/>
        
        </div>
        
    </div>
</div>



  


